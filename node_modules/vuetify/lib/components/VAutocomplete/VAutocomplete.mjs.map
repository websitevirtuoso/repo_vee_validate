{"version":3,"file":"VAutocomplete.mjs","names":["makeSelectProps","VCheckboxBtn","VChip","VDefaultsProvider","VList","VListItem","VMenu","VTextField","makeFilterProps","useFilter","makeTransitionProps","forwardRefs","useItems","useLocale","useProxiedModel","computed","mergeProps","nextTick","ref","watch","genericComponent","useRender","wrapInArray","highlightResult","text","matches","length","Array","isArray","Error","substr","VAutocomplete","name","props","search","String","filterKeys","transition","emits","val","setup","slots","t","vTextFieldRef","isFocused","isPristine","menu","items","transformIn","transformOut","model","v","transformed","multiple","filteredItems","value","undefined","selections","map","find","item","selected","selection","onClear","e","openOnClear","onClickControl","hideNoData","readonly","onKeydown","includes","key","onInput","target","onAfterLeave","isSelecting","select","index","findIndex","splice","title","at","hasChips","chips","chip","modelValue","menuIcon","default","eager","menuProps","preventDefault","noDataText","onClick","prepend","isSelected","hideSelected","onChipClose","stopPropagation","slotProps","closable","closableChips","size"],"sources":["../../../src/components/VAutocomplete/VAutocomplete.tsx"],"sourcesContent":["// Styles\nimport './VAutocomplete.sass'\n\n// Components\nimport { makeSelectProps } from '@/components/VSelect/VSelect'\nimport { VCheckboxBtn } from '@/components/VCheckbox'\nimport { VChip } from '@/components/VChip'\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { VList, VListItem } from '@/components/VList'\nimport { VMenu } from '@/components/VMenu'\nimport { VTextField } from '@/components/VTextField'\n\n// Composables\nimport { makeFilterProps, useFilter } from '@/composables/filter'\nimport { makeTransitionProps } from '@/composables/transition'\nimport { forwardRefs } from '@/composables/forwardRefs'\nimport { useItems } from '@/composables/items'\nimport { useLocale } from '@/composables/locale'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utility\nimport { computed, mergeProps, nextTick, ref, watch } from 'vue'\nimport { genericComponent, useRender, wrapInArray } from '@/util'\n\n// Types\nimport type { FilterMatch } from '@/composables/filter'\nimport type { MakeSlots } from '@/util'\nimport type { VFieldSlots } from '@/components/VField/VField'\nimport type { VInputSlots } from '@/components/VInput/VInput'\n\nfunction highlightResult (text: string, matches: FilterMatch, length: number) {\n  if (Array.isArray(matches)) throw new Error('Multiple matches is not implemented')\n\n  return typeof matches === 'number' && ~matches\n    ? (\n      <>\n        <span class=\"v-autocomplete__unmask\">{ text.substr(0, matches) }</span>\n        <span class=\"v-autocomplete__mask\">{ text.substr(matches, length) }</span>\n        <span class=\"v-autocomplete__unmask\">{ text.substr(matches + length) }</span>\n      </>\n    )\n    : text\n}\n\ntype Primitive = string | number | boolean | symbol\n\ntype Val <T, ReturnObject extends boolean> = T extends Primitive\n  ? T\n  : (ReturnObject extends true ? T : any)\n\ntype Value <T, ReturnObject extends boolean, Multiple extends boolean> =\n  Multiple extends true\n    ? Val<T, ReturnObject>[]\n    : Val<T, ReturnObject>\n\nexport const VAutocomplete = genericComponent<new <\n  T,\n  ReturnObject extends boolean = false,\n  Multiple extends boolean = false,\n  V extends Value<T, ReturnObject, Multiple> = Value<T, ReturnObject, Multiple>\n>() => {\n  $props: {\n    items?: readonly T[]\n    returnObject?: ReturnObject\n    multiple?: Multiple\n    modelValue?: Readonly<V>\n    'onUpdate:modelValue'?: (val: V) => void\n  }\n  $slots: Omit<VInputSlots & VFieldSlots, 'default'> & MakeSlots<{\n    item: [{ item: T, index: number, props: Record<string, unknown> }]\n    chip: [{ item: T, index: number, props: Record<string, unknown> }]\n    selection: [{ item: T, index: number }]\n    'no-data': []\n  }>\n}>()({\n  name: 'VAutocomplete',\n\n  props: {\n    // TODO: implement post keyboard support\n    // autoSelectFirst: Boolean,\n    search: String,\n\n    ...makeFilterProps({ filterKeys: ['title'] }),\n    ...makeSelectProps(),\n    ...makeTransitionProps({ transition: false }),\n  },\n\n  emits: {\n    'update:search': (val: any) => true,\n    'update:modelValue': (val: any) => true,\n    'update:menu': (val: boolean) => true,\n  },\n\n  setup (props, { slots }) {\n    const { t } = useLocale()\n    const vTextFieldRef = ref()\n    const isFocused = ref(false)\n    const isPristine = ref(true)\n    const menu = useProxiedModel(props, 'menu')\n    const { items, transformIn, transformOut } = useItems(props)\n    const search = useProxiedModel(props, 'search', '')\n    const model = useProxiedModel(\n      props,\n      'modelValue',\n      [],\n      v => transformIn(wrapInArray(v)),\n      v => {\n        const transformed = transformOut(v)\n        return props.multiple ? transformed : (transformed[0] ?? null)\n      }\n    )\n    const { filteredItems } = useFilter(props, items, computed(() => isPristine.value ? undefined : search.value))\n    const selections = computed(() => {\n      return model.value.map(v => {\n        return items.value.find(item => item.value === v.value) || v\n      })\n    })\n    const selected = computed(() => selections.value.map(selection => selection.props.value))\n\n    function onClear (e: MouseEvent) {\n      model.value = []\n\n      if (props.openOnClear) {\n        menu.value = true\n      }\n\n      search.value = ''\n    }\n    function onClickControl () {\n      if (\n        (props.hideNoData && !items.value.length) ||\n        props.readonly\n      ) return\n\n      menu.value = true\n    }\n    function onKeydown (e: KeyboardEvent) {\n      if (props.readonly) return\n\n      if (['Enter', 'ArrowDown'].includes(e.key)) {\n        menu.value = true\n      }\n\n      if (['Escape'].includes(e.key)) {\n        menu.value = false\n      }\n\n      if (['Enter', 'Escape', 'Tab'].includes(e.key)) {\n        isPristine.value = true\n      }\n    }\n\n    function onInput (e: InputEvent) {\n      search.value = (e.target as HTMLInputElement).value\n    }\n\n    function onAfterLeave () {\n      if (isFocused.value) isPristine.value = true\n    }\n\n    const isSelecting = ref(false)\n\n    function select (item: any) {\n      if (props.multiple) {\n        const index = selected.value.findIndex(selection => selection === item.value)\n\n        if (index === -1) {\n          model.value = [...model.value, item]\n          search.value = ''\n        } else {\n          const value = [...model.value]\n          value.splice(index, 1)\n          model.value = value\n        }\n      } else {\n        model.value = [item]\n\n        isSelecting.value = true\n\n        search.value = item.title\n        menu.value = false\n        isPristine.value = true\n\n        nextTick(() => (isSelecting.value = false))\n      }\n    }\n\n    watch(isFocused, val => {\n      if (val) {\n        isSelecting.value = true\n        search.value = props.multiple ? '' : String(selections.value.at(-1)?.props.title ?? '')\n        isPristine.value = true\n\n        nextTick(() => isSelecting.value = false)\n      } else {\n        menu.value = false\n        search.value = ''\n      }\n    })\n\n    watch(search, val => {\n      if (!isFocused.value || isSelecting.value) return\n\n      if (val) menu.value = true\n\n      isPristine.value = !val\n    })\n\n    useRender(() => {\n      const hasChips = !!(props.chips || slots.chip)\n\n      return (\n        <VTextField\n          ref={ vTextFieldRef }\n          modelValue={ search.value }\n          onUpdate:modelValue={ v => { if (v == null) model.value = [] } }\n          validationValue={ props.modelValue ?? model.value }\n          dirty={ model.value.length > 0 }\n          onInput={ onInput }\n          class={[\n            'v-autocomplete',\n            {\n              'v-autocomplete--active-menu': menu.value,\n              'v-autocomplete--chips': !!props.chips,\n              [`v-autocomplete--${props.multiple ? 'multiple' : 'single'}`]: true,\n            },\n          ]}\n          appendInnerIcon={ props.menuIcon }\n          readonly={ props.readonly }\n          onClick:clear={ onClear }\n          onClick:control={ onClickControl }\n          onClick:input={ onClickControl }\n          onFocus={ () => isFocused.value = true }\n          onBlur={ () => isFocused.value = false }\n          onKeydown={ onKeydown }\n        >\n          {{\n            ...slots,\n            default: () => (\n              <>\n                <VMenu\n                  v-model={ menu.value }\n                  activator=\"parent\"\n                  contentClass=\"v-autocomplete__content\"\n                  eager={ props.eager }\n                  openOnClick={ false }\n                  closeOnContentClick={ false }\n                  transition={ props.transition }\n                  onAfterLeave={ onAfterLeave }\n                  { ...props.menuProps }\n                >\n                  <VList\n                    selected={ selected.value }\n                    selectStrategy={ props.multiple ? 'independent' : 'single-independent' }\n                    onMousedown={ (e: MouseEvent) => e.preventDefault() }\n                  >\n                    { !filteredItems.value.length && !props.hideNoData && (slots['no-data']?.() ?? (\n                      <VListItem title={ t(props.noDataText) } />\n                    )) }\n\n                    { filteredItems.value.map(({ item, matches }, index) => slots.item?.({\n                      item,\n                      index,\n                      props: mergeProps(item.props, { onClick: () => select(item) }),\n                    }) ?? (\n                      <VListItem\n                        key={ index }\n                        { ...item.props }\n                        onClick={ () => select(item) }\n                      >\n                        {{\n                          prepend: ({ isSelected }) => props.multiple && !props.hideSelected ? (\n                            <VCheckboxBtn modelValue={ isSelected } ripple={ false } />\n                          ) : undefined,\n                          title: () => {\n                            return isPristine.value\n                              ? item.title\n                              : highlightResult(item.title, matches.title, search.value?.length ?? 0)\n                          },\n                        }}\n                      </VListItem>\n                    )) }\n                  </VList>\n                </VMenu>\n\n                { selections.value.map((item, index) => {\n                  function onChipClose (e: Event) {\n                    e.stopPropagation()\n                    e.preventDefault()\n\n                    select(item)\n                  }\n\n                  const slotProps = {\n                    'onClick:close': onChipClose,\n                    modelValue: true,\n                  }\n\n                  return (\n                    <div key={ index } class=\"v-autocomplete__selection\">\n                      { hasChips ? (\n                        <VDefaultsProvider\n                          defaults={{\n                            VChip: {\n                              closable: props.closableChips,\n                              size: 'small',\n                              text: item.title,\n                            },\n                          }}\n                        >\n                          { slots.chip\n                            ? slots.chip({ item, index, props: slotProps })\n                            : (<VChip { ...slotProps } />)\n                          }\n                        </VDefaultsProvider>\n                      ) : (\n                        slots.selection\n                          ? slots.selection({ item, index })\n                          : (\n                            <span class=\"v-autocomplete__selection-text\">\n                              { item.title }\n                              { props.multiple && (index < selections.value.length - 1) && (\n                                <span class=\"v-autocomplete__selection-comma\">,</span>\n                              ) }\n                            </span>\n                          )\n                      )}\n                    </div>\n                  )\n                }) }\n              </>\n            ),\n          }}\n        </VTextField>\n      )\n    })\n\n    return forwardRefs({\n      isFocused,\n      isPristine,\n      menu,\n      search,\n      filteredItems,\n      select,\n    }, vTextFieldRef)\n  },\n})\n\nexport type VAutocomplete = InstanceType<typeof VAutocomplete>\n"],"mappings":"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"}